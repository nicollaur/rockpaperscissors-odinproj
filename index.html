<!DOCTYPE html>

<script>

    const choices = ["rock", "paper", "scissors"];
    const winners = [];

    function game() {
        for (let i = 1; i <= 5; i++) {
            playRound(i);
        }
        logWins();
    }

    function playRound(round) {
        const playerSelection = playerChoice();
        const computerSelection = computerChoice();
        const winner = checkWinner(playerSelection, computerSelection);
        winners.push(winner);
        logRound(playerSelection, computerSelection, winner, round)
    }

    function playerChoice() {
        let input = prompt("Rock, Paper, Scissors?");
        while (input == null) {
            input = prompt("Rock, Paper, Scissors??");
        }
        input = input.toLowerCase();
        let check = validateInput(input);
        while (check == false) {
            input = prompt("Spelling matters!  Rock, Paper, Scissors?");
            while (input == null) {
                input = prompt("Rock, Paper, Scissors??");
            }
            input = input.toLowerCase();
            check = validateInput(input);
        }
        return input;
    }

    function computerChoice() {
        return choices[Math.floor(Math.random() * choices.length)];
    }

    function validateInput(choice) {
        return choices.includes(choice);
    }

    function checkWinner(choiceP, choiceC) {
        if (choiceP === choiceC) {
            return "Tie";
        } else if (choiceP === "rock" && choiceC === "scissors"
            || choiceP === "scissors" && choiceC === "paper"
            || choiceP === "paper" && choiceC === "rock"
        ) {
            return "Player";
        } else {
            return "Computer";
        }
    }

    function logWins() {
        let playerWins = winners.filter((item) => item == "Player").length;
        let computerWins = winners.filter((item) => item == "Computer").length;
        let ties = winners.filter((item) => item == "Tie").length;
        console.log("Results:")
        console.log("Player Wins:", playerWins);
        console.log("Computer Wins:", computerWins);
        console.log("Ties:", ties);
    }

    function logRound(playerChoice, computerChoice, winner, round) {
        console.log("Round:", round)
        console.log("Player Chose:", playerChoice);
        console.log("Computer Chose:", computerChoice);
        console.log(winner, "won the round!");
        console.log("------------------------------")
    }

    game();




















//ORIGINAL LOZ CODE
    // //options for computer to choose from
    // const rockPaperScissor = ['rock', 'paper', 'scissors'];

    // //randomly returns either "rock", "paper", or "scissors"
    // function getComputerChoice() {
    //     let computerSelection = rockPaperScissor[Math.floor(Math.random() * rockPaperScissor.length)];
    //     return computerSelection;
    // }

    // //input for user to choose
    // const playerSelection = prompt("Rock, Paper, Scissors?").toLowerCase();

    // //store getComputerChoice() in computerSelection var
    // const computerSelection = getComputerChoice();

    // //print user and computer selections
    // console.log(playerSelection);
    // console.log(computerSelection);

    // //func to play 5 rounds of game
    // function game() {

    // }

    // //func to play one round of game
    // function playRound(playerSelection, computerSelection) {

    //     if (
    //         playerSelection === "rock" && computerSelection === "scissors"
    //         || playerSelection === "scissors" && computerSelection === "paper"
    //         || playerSelection === "paper" && computerSelection === "rock"
    //     ) {
    //         return `You win!  ${playerSelection[0].toUpperCase() + playerSelection.slice(1)} beats ${computerSelection[0].toUpperCase() + computerSelection.slice(1)}!`;
    //     } else if (playerSelection === computerSelection) {
    //         return "It's a tie?!";
    //     } else {
    //         return `You lose!  ${computerSelection[0].toUpperCase() + computerSelection.slice(1)} beats ${playerSelection[0].toUpperCase() + playerSelection.slice(1)}!`;
    //     }
    // }

    // console.log(playRound());

</script>